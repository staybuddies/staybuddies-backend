<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>User Details</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<div th:replace="fragments/sidebar :: sidebar"></div>

<main class="main-content">
    <div class="page-head">
        <h1>User Details</h1>
        <a class="btn" th:href="@{/admin/users}">Back to list</a>
    </div>

    <div class="content card">
        <div class="header" style="display:flex;align-items:center;gap:1rem;margin-bottom:1rem;">
            <div class="avatar">
                <img th:if="${photoUrl != null}" th:src="${photoUrl}" alt="avatar"/>
                <span th:if="${photoUrl == null}"
                      th:text="${#strings.substring(user.name?:user.email,0,1).toUpperCase()}">A</span>
            </div>
            <div>
                <h2 style="margin:0" th:text="${user.name?:'-'}">Name</h2>
                <div class="sub" th:text="${user.email}">email@example.com</div>
            </div>
        </div>

        <div class="grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;">
            <div class="field">
                <label>Email</label>
                <div class="value" th:text="${user.email}"></div>
            </div>
            <div class="field">
                <label>Phone</label>
                <div class="value" th:text="${user.phone}">-</div>
            </div>
            <div class="field">
                <label>Join Date</label>
                <div class="value" th:text="${user.joinDate}">-</div>
            </div>
            <div class="field">
                <label>Status</label>
                <div class="value">
          <span th:class="'badge ' + (${user.active} ? 'active' : 'inactive')"
                th:text="${user.active} ? 'Active' : 'Inactive'">Active</span>
                </div>
            </div>
            <div class="field">
                <label>Gender</label>
                <div class="value" th:text="${user.gender}">-</div>
            </div>
            <div class="field">
                <label>Age</label>
                <div class="value" th:text="${user.age}">-</div>
            </div>
            <div class="field">
                <label>Location</label>
                <div class="value" th:text="${user.location}">-</div>
            </div>
            <div class="field">
                <label>University</label>
                <div class="value" th:text="${user.university}">-</div>
            </div>
            <div class="field">
                <label>Major</label>
                <div class="value" th:text="${user.major}">-</div>
            </div>
            <div class="field" style="grid-column:1/-1">
                <label>Bio</label>
                <div class="value" th:text="${user.bio}">-</div>
            </div>
        </div>

        <div class="toolbar" style="display:flex;gap:.5rem;margin-top:12px;">
            <a class="btn" th:href="@{'/admin/users/edit/' + ${user.id}}">Edit</a>
            <a class="btn danger" th:href="@{'/admin/users/delete/' + ${user.id}}"
               onclick="return confirm('Delete this user?');">Delete</a>
        </div>
    </div>
</main>

<style>
    .avatar {
        width: 86px;
        height: 86px;
        border-radius: 50%;
        overflow: hidden;
        background: #e6fff1;
        border: 1px solid #b8f1ce;
        display: grid;
        place-items: center;
        color: #1b9536;
        font-weight: 900;
        font-size: 1.6rem
    }

    .avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover
    }

    .field {
        background: #fbfdfb;
        border: 1px solid #e9ecef;
        border-radius: 10px;
        padding: .75rem
    }

    .field label {
        display: block;
        color: #475569;
        font-size: .88rem;
        margin-bottom: .2rem
    }

    .field .value {
        color: #0c4a23;
        font-weight: 750
    }
</style>
</body>
</html>
